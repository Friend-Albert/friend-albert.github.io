<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>SpringBoot_Notes - FriendA&#39;s Blog</title><meta name="description" content=""><meta property="og:title" content="SpringBoot_Notes" />
<meta property="og:description" content="1.注解（annotation） 1.1 简介 Annotation（注解）是JDK5开始引入的新特性，可以看作是一种特殊的注释，主要用于修饰类，方法" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://friend-albert.github.io/posts/springboot_notes/" /><meta property="og:image" content="https://friend-albert.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-15T15:26:02+08:00" />
<meta property="article:modified_time" content="2022-07-15T15:26:02+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://friend-albert.github.io/logo.png"/>

<meta name="twitter:title" content="SpringBoot_Notes"/>
<meta name="twitter:description" content="1.注解（annotation） 1.1 简介 Annotation（注解）是JDK5开始引入的新特性，可以看作是一种特殊的注释，主要用于修饰类，方法"/>
<meta name="application-name" content="FeelIt">
<meta name="apple-mobile-web-app-title" content="FeelIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://friend-albert.github.io/posts/springboot_notes/" /><link rel="next" href="https://friend-albert.github.io/posts/java_oop/" /><link rel="stylesheet" href="/css/page.min.css"><link rel="stylesheet" href="/css/home.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "SpringBoot_Notes",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/friend-albert.github.io\/posts\/springboot_notes\/"
        },"genre": "posts","keywords": "Java","wordcount":  4051 ,
        "url": "https:\/\/friend-albert.github.io\/posts\/springboot_notes\/","datePublished": "2022-07-15T15:26:02+08:00","dateModified": "2022-07-15T15:26:02+08:00","publisher": {
            "@type": "Organization",
            "name": "作者"},"author": {
                "@type": "Person",
                "name": "作者"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="FriendA&#39;s Blog">FriendA&#39;s Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/"> 主页 </a><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="#" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="FriendA&#39;s Blog">FriendA&#39;s Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="#" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/" title="">主页</a><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><div class="menu-item"><a href="javascript:void(0);" class="theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div></div>
    </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single" data-toc="enable"><div class="single-card" ><h2 class="single-title animated flipInX">SpringBoot_Notes</h2><div class="post-meta">
                <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i></a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/springboot/"><i class="far fa-folder fa-fw"></i>SpringBoot</a></span></div>
                <div class="post-meta-line"><span><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="Fri 2022.7.15">Fri 2022.7.15</time></span>&nbsp;<span><i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 4051 字</span>&nbsp;
                    <span><i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 9 分钟</span>&nbsp;</div>
            </div>
            
            <hr><div class="details toc" id="toc-static"  data-kept="true">
                    <div class="details-summary toc-title">
                        <span>目录</span>
                        <span><i class="details-icon fas fa-angle-right"></i></span>
                    </div>
                    <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#11-简介">1.1 简介</a></li>
    <li><a href="#12-自带注解">1.2 自带注解</a></li>
    <li><a href="#13自定义注解">1.3自定义注解</a></li>
  </ul>

  <ul>
    <li><a href="#21简介">2.1简介</a></li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#springbootapplication">@SpringBootApplication:</a></li>
        <li><a href="#repository">@Repository:</a></li>
        <li><a href="#service">@Service:</a></li>
        <li><a href="#restcontroller">@RestController:</a></li>
        <li><a href="#controller">@Controller:</a></li>
        <li><a href="#component">@Component:</a></li>
        <li><a href="#responsebody">@ResponseBody:</a></li>
        <li><a href="#requestbody">@RequestBody:</a></li>
        <li><a href="#componentscan">@ComponentScan:</a></li>
        <li><a href="#configuration">@Configuration:</a></li>
        <li><a href="#bean">@Bean:</a></li>
        <li><a href="#enableautoconfiguration">@EnableAutoConfiguration:</a></li>
        <li><a href="#autowired">@AutoWired:</a></li>
        <li><a href="#qualifier">@Qualifier:</a></li>
        <li><a href="#resourcenamenametypetype">@Resource(name=”name”,type=”type”)：</a></li>
        <li><a href="#requestmapping">@RequestMapping:</a></li>
        <li><a href="#getmappingpostmapping">@GetMapping、@PostMapping</a></li>
        <li><a href="#requestparam">@RequestParam:</a></li>
        <li><a href="#pathvariable">@PathVariable:</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
                </div><div class="content" id="content"><h1 id="1注解annotation">1.注解（annotation）</h1>
<h2 id="11-简介">1.1 简介</h2>
<p><code>Annotation</code>（注解）是JDK5开始引入的新特性，可以看作是一种特殊的注释，主要用于修饰类，方法或者变量，在<a href="https://so.csdn.net/so/search?q=%e6%a1%86%e6%9e%b6&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreffer">框架</a>中大量使用（如 Spring、Mybatis等）</p>
<p>注解只有被解析之后才会生效，常见的解析方法有两种：</p>
<ul>
<li><strong>编译期间直接扫描</strong>：编译器在编译Java代码的时候扫描对于的注解并处理，比如某个方法使用了@Override，编译器在编译的时候就会检测当前的方法是否重写了父类对于的方法。</li>
<li><strong>运行期间通过反射处理</strong>：这个经常在Spring框架中看到，例如Spring的@Value注解，就是通过反射来进行处理的。</li>
</ul>
<h2 id="12-自带注解">1.2 自带注解</h2>
<p><strong>作用在代码的注解是</strong></p>
<ul>
<li><strong>@Override</strong> - 检查该方法是否是重写方法。如果发现其父类，或者是引用的接口中并没有该方法时，会报编译错误。</li>
<li>@Deprecated - 标记过时方法。如果使用该方法，会报编译警告。</li>
<li>@SuppressWarnings - 指示编译器去忽略注解中声明的警告。</li>
</ul>
<p><strong>作用在其他注解的注解(或者说 元注解)是</strong>:</p>
<ul>
<li>@Retention - 标识这个注解怎么保存，是只在代码中，还是编入class文件中，或者是在运行时可以通过反射访问。</li>
<li>@Documented - 标记这些注解是否包含在用户文档中。</li>
<li>@Target - 标记这个注解应该是哪种 Java 成员。</li>
<li>@Inherited - 标记这个注解是继承于哪个注解类(默认 注解并没有继承于任何子类)</li>
</ul>
<p><strong>从 Java 7 开始，额外添加了 3 个注解</strong>:</p>
<ul>
<li>@SafeVarargs - Java 7 开始支持，忽略任何使用参数为泛型变量的方法或构造函数调用产生的警告。</li>
<li>@FunctionalInterface - Java 8 开始支持，标识一个匿名函数或函数式接口。</li>
<li>@Repeatable - Java 8 开始支持，标识某注解可以在同一个声明上使用多次。</li>
</ul>
<h2 id="13自定义注解">1.3自定义注解</h2>
<p>注解的格式就是</p>
<blockquote>
<ul>
<li>元注解</li>
<li><code>public @interface 注解名</code></li>
<li>注解内容体</li>
</ul>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Documented</span> <span class="c1">//这里我希望我的注解能够生成在JavaDoc生成的文档中
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nd">@Retention</span><span class="o">(</span><span class="n">RetentionPolicy</span><span class="o">.</span><span class="na">CLASS</span><span class="o">)</span> <span class="c1">//这里我希望我的注解能够在字节码文件中保留
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nd">@Target</span><span class="o">({</span><span class="n">ElementType</span><span class="o">.</span><span class="na">TYPE</span><span class="o">,</span><span class="n">ElementType</span><span class="o">.</span><span class="na">METHOD</span><span class="o">})</span> <span class="c1">//这里我希望我的注解可以修饰于类、接口、抽象类和方法上
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">public</span> <span class="nd">@interface</span> <span class="n">MyAnnotation</span> <span class="o">{</span> <span class="c1">//我声明了一个名为MyAnnotation的注解
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//定义带两个成员变量的注解
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//注解中的成员以方法的形式命名（注解的本质是接口） 并且可以带有默认值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">String</span> <span class="nf">name</span><span class="o">()</span> <span class="k">default</span> <span class="s">&#34;&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="nf">age</span><span class="o">()</span> <span class="k">default</span> <span class="n">0</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><h1 id="2接口">2.接口</h1>
<h2 id="21简介">2.1简介</h2>
<p>在抽象类中，抽象方法本质上是定义接口规范：即规定高层类的接口，从而保证所有子类都有相同的接口实现，这样，多态就能发挥出威力。</p>
<p>如果一个抽象类没有字段，所有方法全部都是抽象方法：</p>
<pre tabindex="0"><code>abstract class Person {
    public abstract void run();
    public abstract String getName();
}
</code></pre><p>就可以把该抽象类改写为接口：<code>interface</code>。</p>
<p>在Java中，使用<code>interface</code>可以声明一个接口：</p>
<pre tabindex="0"><code>interface Person {
    void run();
    String getName();
}
</code></pre><p>所谓<code>interface</code>，就是比抽象类还要抽象的纯抽象接口，因为它连字段都不能有。因为接口定义的所有方法默认都是<code>public abstract</code>的，所以这两个修饰符不需要写出来（写不写效果都一样）。</p>
<h1 id="3-spring-boot-常用注解">3. spring boot 常用注解</h1>
<h3 id="springbootapplication">@SpringBootApplication:</h3>
<p>包含@Configuration、@EnableAutoConfiguration、@ComponentScan通常用在主类上；</p>
<h3 id="repository">@Repository:</h3>
<p>用于标注数据访问组件，即DAO组件；</p>
<h3 id="service">@Service:</h3>
<p>用于标注业务层组件；</p>
<h3 id="restcontroller">@RestController:</h3>
<p>用于标注控制层组件(如struts中的action)，包含@Controller和@ResponseBody；</p>
<h3 id="controller">@Controller:</h3>
<p>用于标注是控制层组件，需要返回页面时请用@Controller而不是@RestController；</p>
<h3 id="component">@Component:</h3>
<p>泛指组件，当组件不好归类的时候，我们可以使用这个注解进行标注；</p>
<h3 id="responsebody">@ResponseBody:</h3>
<p>表示该方法的返回结果直接写入HTTP response body中，一般在异步获取数据时使用，在使用@RequestMapping后，返回值通常解析为跳转路径，</p>
<p>加上@responsebody后返回结果不会被解析为跳转路径，而是直接写入HTTP response body中；比如异步获取json数据，加上@responsebody后，会直接返回json数据；</p>
<h3 id="requestbody">@RequestBody:</h3>
<p>参数前加上这个注解之后，认为该参数必填。表示接受json字符串转为对象 List等；</p>
<h3 id="componentscan">@ComponentScan:</h3>
<p>组件扫描。个人理解相当于，如果扫描到有@Component @Controller @Service等这些注解的类，则把这些类注册为bean*；</p>
<h3 id="configuration">@Configuration:</h3>
<p>指出该类是 Bean 配置的信息源，相当于XML中的，一般加在主类上；</p>
<h3 id="bean">@Bean:</h3>
<p>相当于XML中的,放在方法的上面，而不是类，意思是产生一个bean,并交给spring管理；</p>
<h3 id="enableautoconfiguration">@EnableAutoConfiguration:</h3>
<p>让 Spring Boot 根据应用所声明的依赖来对 Spring 框架进行自动配置，一般加在主类上；</p>
<h3 id="autowired">@AutoWired:</h3>
<p>byType方式。把配置好的Bean拿来用，完成属性、方法的组装，它可以对类成员变量、方法及构造函数进行标注，完成自动装配的工作；</p>
<p>当加上（required=false）时，就算找不到bean也不报错；</p>
<h3 id="qualifier">@Qualifier:</h3>
<p>当有多个同一类型的Bean时，可以用@Qualifier(“name”)来指定。与@Autowired配合使用；</p>
<h3 id="resourcenamenametypetype">@Resource(name=”name”,type=”type”)：</h3>
<p>没有括号内内容的话，默认byName。与@Autowired干类似的事；</p>
<h3 id="requestmapping">@RequestMapping:</h3>
<p>RequestMapping是一个用来处理请求地址映射的注解，可用于类或方法上。用于类上，表示类中的所有响应请求的方法都是以该地址作为父路径；</p>
<blockquote>
<p>该注解有六个属性:</p>
<p>params:指定request中必须包含某些参数值是，才让该方法处理。</p>
<p>headers:指定request中必须包含某些指定的header值，才能让该方法处理请求。</p>
<p>value:指定请求的实际地址，指定的地址可以是URI Template 模式</p>
<p>method:指定请求的method类型， GET、POST、PUT、DELETE等</p>
<p>consumes:指定处理请求的提交内容类型（Content-Type），如application/json,text/html;</p>
<p>produces:指定返回的内容类型，仅当request请求头中的(Accept)类型中包含该指定类型才返回。</p>
</blockquote>
<h3 id="getmappingpostmapping">@GetMapping、@PostMapping</h3>
<p>相当于@RequestMapping（value=”/”，method=RequestMethod.Get\Post\Put\Delete等） 。是个组合注解；</p>
<h3 id="requestparam">@RequestParam:</h3>
<p>用在方法的参数前面。相当于 request.getParameter()；</p>
<h3 id="pathvariable">@PathVariable:</h3>
<p>路径变量。如 RequestMapping(“user/get/mac/{macAddress}”) ；</p>
<pre tabindex="0"><code>public String getByMacAddress(
@PathVariable(“macAddress”) String macAddress){
//do something;
}
</code></pre><p>参数与大括号里的名字相同的话，注解后括号里的内容可以不填。</p>
<h1 id="4-requestparamresponsebody详解">4. @RequestParam&amp;@ResponseBody详解</h1>
<ul>
<li>
<p>@RequestParam</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl">    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">&#34;/ajax&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@ResponseBody</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">String</span> <span class="nf">postAjax</span><span class="o">(</span><span class="nd">@RequestParam</span> <span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="nd">@RequestParam</span> <span class="n">Integer</span> <span class="n">age</span><span class="o">){</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;name is:&#34;</span><span class="o">+</span><span class="n">name</span><span class="o">+</span><span class="s">&#34;, age is:&#34;</span><span class="o">+</span><span class="n">age</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">JSONObject</span> <span class="n">object</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">object</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;name&#34;</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">object</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">object</span><span class="o">.</span><span class="na">toJSONString</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">object</span><span class="o">.</span><span class="na">toJSONString</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span></code></pre></div><p>@RequestParam主要用于将请求参数区域的数据映射到控制层方法的参数上</p>
<p>首先我们需要知道@RequestParam注解主要有哪些参数</p>
<ul>
<li>
<p><strong>value</strong>：请求中传入参数的名称，如果不设置后台接口的value值，则会默认为该变量名。比如上图中第一个参数如果不设置value=&ldquo;page&rdquo;,则前端传入的参数名必须为pageNum,否则在后台接口中pageNum将接收不到对应的数据</p>
</li>
<li>
<p><strong>required</strong>：该参数是否为必传项。默认是true，表示请求中一定要传入对应的参数，否则会报404错误，如果设置为false时，当请求中没有此参数，将会默认为null,而对于基本数据类型的变量，则必须有值，这时会抛出空指针异常。如果允许空值，则接口中变量需要使用包装类来声明。</p>
</li>
<li>
<p><strong>defaultValue</strong>：参数的默认值，如果请求中没有同名的参数时，该变量默认为此值。注意默认值可以使用SpEL表达式，如&quot;#{systemProperties[&lsquo;java.vm.version&rsquo;]}&quot;</p>
</li>
</ul>
<p>如果在请求中传入多个同名参数，比如：url?userName=zhl&amp;userName=holley时怎么办？</p>
<p>其实此时传入的数据格式是：&ldquo;zhl,holley&rdquo;,即多个数据之间使用逗号分隔开，在后台接口中可以使用<strong>数组或者list</strong>类型的变量来接收：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="n">String</span> <span class="nf">requestparam8</span><span class="o">(</span><span class="nd">@RequestParam</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">&#34;userName&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="o">[]</span>  <span class="n">userNames</span><span class="o">)</span> 
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="n">String</span> <span class="nf">requestparam8</span><span class="o">(</span><span class="nd">@RequestParam</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">&#34;list&#34;</span><span class="o">)</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> 
</span></span></code></pre></div></li>
<li>
<p>@ResponseBody</p>
<p>@ResponseBody的作用其实是将java对象转为json格式的数据。</p>
<p>@responseBody注解的作用是将controller的方法返回的对象通过适当的转换器转换为指定的格式之后，写入到response对象的body区，通常用来返回JSON数据或者是XML数据。</p>
<p>@ResponseBody是作用在方法上的，@ResponseBody 表示该方法的返回结果直接写入 HTTP response body 中，一般在异步获取数据时使用【也就是AJAX】。
注意：在使用 @RequestMapping后，返回值通常解析为跳转路径，但是加上 @ResponseBody 后返回结果不会被解析为跳转路径，而是直接写入 HTTP response body 中。 比如异步获取 json 数据，加上 @ResponseBody 后，会直接返回 json 数据。@RequestBody 将 HTTP 请求正文插入方法中，使用适合的 HttpMessageConverter 将请求体写入某个对象。</p>
<ul>
<li>
<p>概念
注解 @ResponseBody，使用在控制层（controller）的方法上。</p>
</li>
<li>
<p>作用
作用：将方法的返回值，以特定的格式写入到response的body区域，进而将数据返回给客户端。当方法上面没有写ResponseBody,底层会将方法的返回值封装为ModelAndView对象。如果返回值是字符串，那么直接将字符串写到客户端；如果是一个对象，会将对象转化为json串，然后写到客户端。</p>
</li>
<li>
<p>注意编码
注解中我们可以手动修改编码格式，例如@RequestMapping(value=&quot;/cat/query&quot;,produces=&ldquo;text/html;charset=utf-8&rdquo;)，前面是请求的路径，后面是编码格式。</p>
</li>
<li>
<p>原理
控制层方法的返回值是如何转化为json格式的字符串的？其实是通过HttpMessageConverter中的方法实现的，它本是一个接口，在其实现类完成转换。如果是bean对象，会调用对象的getXXX（）方法获取属性值并且以键值对的形式进行封装，进而转化为json串。如果是map集合，采用get(key)方式获取value值，然后进行封装。</p>
</li>
</ul>
</li>
</ul>
</div><div class="post-footer" id="post-footer">
    <div class="post-info"><div class="post-info-tag"><span><a href="/tags/java/">Java</a>
                </span></div><div class="post-info-line"><div class="post-info-mod">
                <span>更新于 Fri 2022.7.15</span>
            </div><div class="post-info-mod"></div>
        </div><div class="post-info-share">
            <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://friend-albert.github.io/posts/springboot_notes/" data-title="SpringBoot_Notes" data-hashtags="Java"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://friend-albert.github.io/posts/springboot_notes/" data-hashtag="Java"><i class="fab fa-facebook-square fa-fw"></i></a></span>
        </div></div><div class="post-nav">
            <a href="/posts/java_oop/" class="next" rel="next" title="Java_OOP">Next Post<i class="fas fa-angle-right fa-fw"></i></a></div></div>
</div></article></div>
            </main>
            <footer class="footer"><div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.101.0">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/khusika/FeelIt" target="_blank" rel="noopener noreffer" title="FeelIt 1.0.1"><i class="fas fa-hand-holding-heart fa-fw"></i> FeelIt</a>
        </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/"></a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
</div>
</footer>
        </div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-chevron-up fa-fw"></i>
            </a></div><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script src="/lib/autocomplete/autocomplete.min.js"></script><script src="/lib/lunr/lunr.min.js"></script><script src="/lib/lunr/lunr.stemmer.support.min.js"></script><script src="/lib/lunr/lunr.zh.min.js"></script><script src="/lib/lazysizes/lazysizes.min.js"></script><script src="/lib/clipboard/clipboard.min.js"></script><script src="/lib/sharer/sharer.min.js"></script><script src="/lib/katex/katex.min.js"></script><script src="/lib/katex/auto-render.min.js"></script><script src="/lib/katex/copy-tex.min.js"></script><script src="/lib/katex/mhchem.min.js"></script><script>window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":20},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50}};</script><script src="/js/theme.min.js"></script></body>
</html>
